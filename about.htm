<!DOCTYPE html>
<html>

<head>
  <title>About</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  
  <script src="https://unpkg.com/popper.js@1.14.7/dist/umd/popper.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <!--Everything below this is the loading icon-->
  <script>
  //paste this code under the head tag or in a separate js file.
  // Wait for window load
  $(window).load(function() {
  // Animate loader off screen
  $(".se-pre-con").fadeOut("slow");;
  });
  </script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.js"></script>


  <!--Everything above this is the loading icon-->
  <link rel="stylesheet" type="text/css" href="./css/mobile.css">
  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147655282-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-147655282-1');
  </script>
</head>

<body>
  
  <div class="se-pre-con"></div>
  <div class="popover bottom in" role="tooltip" id="popover">
    <div class="arrow" style="top: 50%;"></div>
    <div class="popover-content"></div>
  </div>

<div class="w-25 fixed-top">
    <nav class="navbar navbar-expand-lg navbar-light bg-light" id="menu" style="height: 1200px;">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar-collapse collapse fixed-top w-25" id="navbarSupportedContent">
          <script src="./scripts/nav-bar-about.js?id=index" id="nav-bar"></script>
      </div>
    </nav>
</div>
<div class="w-50 container">
    <div class="legend col-12">
        <div class="row">
                <div class="col-12">
                    <div class="accordion" id="accordionExample">
                        <div class="card bg-primary">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                            <button class="btn btn-link col-12 collapsedTrigger text-light font-weight-bold" type="button">
                                About the Developer
                            </button>
                            </h2>
                        </div>
                        <div class="collapsedContainer" style="display: none;" aria-labelledby="headingOne">
                            <div class="card-body bg-light">
                                <nav aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                      <li class="breadcrumb-item text-dark">Tommy Ngan</li>
                                      <li class="breadcrumb-item text-primary">Support Analyst</li>
                                      <li class="breadcrumb-item"><a href="mailto:tommy.ngan@coxautoinc.com" class="text-info">Feedback or Requests?</a></li>
                                    </ol>
                                </nav>
                                   <div>
                                     <p>
                                       One late spring morning day in 2018, Tommy's manager asked him to see how DNA permissions and features worked and who had access to them.  Initially the project began as an Excel speadsheet, 
                                       researching through Fuel for documentation, and asking Help Desk for the various permissions for each end user (seniors, non seniors, and PSS). However Tommy wondered if it would be 
                                       possible to let anyone see the list of DNA permissions, what they did, and how they all relate. From the fall of 2018 to sping of 2019, many hours in Barnes and Noble learning bootstrap,
                                       and consuming gallons of coffee, Tommy developed DoubleHelix.
                                     </p>
                                     <p>
                                       If you have feedback or requests, you can send Tommy an email using the link above or using the Comments tool at the bottom of Sharepoint (those will be public).
                                     </p>
                                     <p>
                                       Have a super great day.
                                     </p>
                                    </div>
    
                            </div><!--End card card-body-->
                        </div><!--Collapsed Container-->
                        </div>
    
                    </div>
                </div><!--End card card-body-->
            </div><!--End collapse col-12" id="{{class}}-->
    </div>
    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <div id="content"></div>
</div>

  <script id="test-template" type="text/x-handlebars-template"><!--This duplicates the entry below-->
            <div class="entry" style="display: block; position:relative;">
              <div class="container">
                <div class="row">
                  <div class="col-12">

                      <div class="accordion" id="accordionExample">
                          <div class="card">
                            <div class="card-header" id="headingOne">
                              <h2 class="mb-0">
                                <button class="btn btn-link col-12 collapsedTrigger" type="button">
                                  {{title}}
                                </button>
                              </h2>
                            </div>
                            <div class="collapsedContainer" style="display: none;" aria-labelledby="headingOne">
                              <div class="card-body">
                                  <div class="card-group">
                                      <div class="card border-primary mb-3">
                                        <div class="card-header text-primary">{{title}}</div>
                                          <div class="card-body text-dark">
                                            <h5 class="card-title">About this tool</h5>
                                            <p class="card-text text-dark ml-4">{{about}}}</p>
                                          </div>
                                        <div class="card-footer bg-transparent border-success"><a href="./{{link}}">Go to Page</a></div>
                                      </div>
                    
                    
                                    </div><!--End Card Group-->

                              </div><!--End card card-body-->
                            </div>
                          </div>

                        </div>
                  </div><!--End card card-body-->
                </div><!--End collapse col-12" id="{{class}}-->
                </div><!--End Row-->
              </div><!--End Container-->
            </div><!--End Entry-->

    </script>

  <!-- Don't need jQuery for Tabletop, but using it for this example -->
  <script type="text/javascript" src="./scripts/handlebars.js"></script>
  <script type="text/javascript" src="./scripts/jquery.js"></script>
  <script type="text/javascript" src="./scripts/tabletop.js"></script>
  <script type="text/javascript" src="./scripts/dropDown.js"></script>
  <script type="text/javascript">
    var public_spreadsheet_url = 'https://docs.google.com/a/dealer.com/spreadsheets/d/1oHFibPwVV44St1mgLDIcVsPVniH9ljLfdHg5t4Sr6qY/pub?hl=en_US&hl=en_US&hl=en_US&output=html';

    $(document).ready(function () {
      Tabletop.init({
        key: public_spreadsheet_url,
        callback: showInfo,
        parseNumbers: true
      });
    });

    function showInfo(data, tabletop) {
      var source = $("#test-template").html();
      var template = Handlebars.compile(source);

      $.each(tabletop.sheets("aboutMain").all(), function (i, cat) {
        console.log(cat);
        var html = template(cat);
        $("#content").append(html);
      });
      $('.collapsedTrigger').on('click', function (event) {
        hideAllAccordians();
        var parent = $(this).closest('.accordion');
        if (parent) {
          var collapsed = parent.find('.collapsedContainer');
          if (collapsed.css('display') === 'none') {
            collapsed.slideDown(250);
          }
        }
      });
      $('[data-toggle="popover"]').on('mouseenter', function () {
        var popper = $('#popover');
        popper.show()
        var data = $(this).data();
        popper.css('z-index', 9999);
        popper.css('padding', 10);
        popper.find('.popover-content').text(data.content);
        var x = new Popper($(this), popper);
      })

      $('[data-toggle="popover"]').on('mouseleave', function () {
        var popper = $('#popover');
        popper.hide()
        popper.find('.popper-content').text('');
      });


    }

    var hideAllAccordians = function () {
      var accordions = $('.collapsedContainer');
      if (accordions && accordions.length > 0) {
        accordions.each(function (index) {
          var display = $(this).css('display');
          if (!display || display.length === 0 || display === 'block') {
            $(this).slideUp(250);
          }
        });
      }
    }

    $('[data-toggle]').popover();
  </script>
</body>

</html>